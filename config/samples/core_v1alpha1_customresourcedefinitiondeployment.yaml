apiVersion: core.giantswarm.io/v1alpha1
kind: CustomResourceDefinitionDeployment
metadata:
  name: cluster-api-core-cluster
spec:
  group: cluster.x-k8s.io
  versions:
    storage: v1beta1
    served:
      - name: v1alpha4
      - name: v1alpha3
        deprecated: true
  kind: Cluster
  source:
    type: File
    url: https://github.com/kubernetes-sigs/cluster-api/releases/download/v1.1.4/core-components.yaml
  mutatingWebhook:
    enabled: true
    templateRef:
      apiGroup: core.giantswarm.io/v1alpha1
      kind: MutatingWebhookTemplate
      name: cluster-api-core-cluster
  validatingWebhook:
    enabled: true
    templateRef:
      apiGroup: core.giantswarm.io/v1alpha1
      kind: ValidatingWebhookTemplate
      name: cluster-api-core-cluster
  conversionWebhook:
    enabled: true
    templateRef:
      apiGroup: core.giantswarm.io/v1alpha1
      kind: ConversionWebhookTemplate
      name: cluster-api-core-cluster
  certificateTemplateRef:
    apiGroup: core.giantswarm.io/v1alpha1
    kind: ServiceCertificateTemplate
    name: capi
